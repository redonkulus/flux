<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Go Flux Yourself</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Go Flux Yourself</h1>
        <p>A simple comparison of Flux libraries.</p>
      </header>
      <section>
        <table>
          <thead>
            <tr>
              <th width="200">Library</th>
              <th>Stars</th>
              <th>Forks</th>
            </tr>
          </thead>
          <tbody>
          </tbody>
        </table>
      </section>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    <script src="javascripts/browser.min.js"></script>
    <script type="text/babel">
    (function() {
      class Stats {
        constructor() {
          this.libs = [
            'yahoo/fluxible',
            'goatslacker/alt',
            'acdlite/flummox',
            'BinaryMuse/fluxxor',
            'martyjs/marty',
            'kenwheeler/mcfly',
            'reactjs/redux',
            'reflux/refluxjs'
          ];
          this.tbody = document.getElementsByTagName('tbody')[0];
        }

        render() {
          const html = this.libs.map(lib => {
            const [org, repo] = lib.split('/');
            return `
              <tr>
                <td>
                  <a href="https://github.com/${org}/${repo}">
                    <strong>${repo}</strong>
                  </a>
                </td>
                <td>
                  <iframe src="https://ghbtns.com/github-btn.html?user=${org}&repo=${repo}&type=star&count=true&size=large" frameborder="0" scrolling="0" width="160px" height="30px"></iframe>
                </td>
                <td>
                <iframe src="https://ghbtns.com/github-btn.html?user=${org}&repo=${repo}&type=fork&count=true&size=large" frameborder="0" scrolling="0" width="158px" height="30px"></iframe>
                </td>
              </tr>
            `;
          });
          this.tbody.innerHTML = html.join('\n');
        }
      }

      const stats = new Stats();
      stats.render();
    }());
    </script>
  </body>
</html>
